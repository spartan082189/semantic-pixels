/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitlightbox",e):t.UIkitLightbox=e()}(this,function(){"use strict";function t(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translate("+t+(t?e:"")+", 0)"}function e(t){return"scale3d("+t+", "+t+", 1)"}function i(e){if(!i.installed){var n,s,o=e.util,r=o.$,a=o.$$,h=o.addClass,l=o.assign,u=o.clamp,d=o.data,c=o.doc,f=o.fastdom,p=o.getIndex,g=o.getPos,m=o.hasClass,v=o.html,x=o.includes,w=o.index,b=o.isNumber,k=o.isRtl,y=o.isTouch,I=o.off,_=o.on,A=o.pointerDown,$=o.pointerMove,C=o.pointerUp,T=o.preventClick,D=o.Promise,S=o.removeClass,M=o.toggleClass,N=o.toNodes,O=o.trigger,P=o.win,E=(n=e.util.css,s={slide:{show:function(e){return[{transform:t(-100*e)},{transform:t()}]},percent:function(t){return s.translated(t)},translate:function(e,i){return[{transform:t(-100*i*e)},{transform:t(100*i*(1-e))}]}},translated:function(t){return Math.abs(n(t,"transform").split(",")[4]/t.offsetWidth)||0}}),j=function(t){var e=t.util,i=e.createEvent,n=e.clamp,s=e.css,o=e.Deferred,r=e.noop,a=e.Promise,h=e.Transition,l=e.trigger;function u(t,e,n){l(t,i(e,!1,!1,n))}return function(t,e,i,l){var d=l.animation,c=l.easing,f=d.percent,p=d.translate,g=d.show;void 0===g&&(g=r);var m=g(i),v=new o;return{dir:i,show:function(s,o,l){var d=this;void 0===o&&(o=0);var f=l?"linear":c;return s-=Math.round(s*n(o,-1,1)),this.translate(o),u(e,"itemin",{percent:o,duration:s,timing:f,dir:i}),u(t,"itemout",{percent:1-o,duration:s,timing:f,dir:i}),a.all([h.start(e,m[1],s,f),h.start(t,m[0],s,f)]).then(function(){d.reset(),v.resolve()},r),v.promise},stop:function(){return h.stop([e,t])},cancel:function(){h.cancel([e,t])},reset:function(){for(var i in m[0])s([e,t],i,"")},forward:function(i,n){return void 0===n&&(n=this.percent()),h.cancel([e,t]),this.show(i,n,!0)},translate:function(n){var o=p(n,i);s(e,o[1]),s(t,o[0]),u(e,"itemtranslatein",{percent:n,dir:i}),u(t,"itemtranslateout",{percent:1-n,dir:i})},percent:function(){return f(t||e,e,i)},getDistance:function(){return t.offsetWidth}}}}(e);e.mixin.slideshow={attrs:!0,props:{animation:String,autoplay:Boolean,autoplayInterval:Number,easing:String,index:Number,finite:Boolean,pauseOnHover:Boolean,velocity:Number},defaults:{animation:"slide",autoplay:!1,autoplayInterval:7e3,easing:"ease",finite:!1,pauseOnHover:!0,velocity:1,index:0,stack:[],threshold:10,percent:0,clsActive:"uk-active",clsActivated:"uk-transition-active",selNav:!1,easingOut:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",Animations:E,Transitioner:j,transitionOptions:{},preventCatch:!1},computed:{animation:function(t){var e=t.animation,i=t.Animations;return l(e in i?i[e]:i.slide,{name:e})},duration:function(t,e){var i=t.velocity;return.5*(e.offsetWidth/i)+300},length:function(){return this.slides.length},list:function(t,e){var i=t.selList;return r(i,e)},maxIndex:function(){return this.length-1},nav:function(t,e){var i=t.selNav;return r(i,e)},navItemSelector:function(t){var e=t.attrItem;return"["+e+"],[data-"+e+"]"},navItems:function(t,e){return a(this.navItemSelector,e)},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return N(this.list.children)},transitionOptions:function(){return{animation:this.animation}}},init:function(){var t=this;["start","move","end"].forEach(function(e){var i=t[e];t[e]=function(e){var n=g(e).x*(k?-1:1);t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,i(e)}})},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},update:[{read:function(){delete this._computeds.duration},write:function(){var t=this;this.nav&&this.length!==this.nav.children.length&&v(this.nav,this.slides.map(function(e,i){return"<li "+t.attrItem+'="'+i+'"><a href="#"></a></li>'}).join("")),M(a("["+this.attrItem+"],[data-"+this.attrItem+"]",this.$el).concat(this.nav),"uk-hidden",!this.maxIndex);var e=this.getValidIndex();delete this.index,S(this.slides,this.clsActive,this.clsActivated),this.show(e)},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(d(t.current,this.attrItem))}},{name:"itemshow",self:!0,delegate:function(){return this.slidesSelector},handler:function(){var t=this,e=this.getValidIndex();this.navItems.forEach(function(i){return M(i,t.clsActive,w(i)===e)})}},{name:A,delegate:function(){return this.slidesSelector},handler:function(t){var e;(y(t)||((e=t.target).children.length||!e.childNodes.length))&&this.start(t)}},{name:"visibilitychange",el:c,handler:function(){c.hidden?this.stopAutoplay():this.startAutoplay()}},{name:A,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}},{name:"beforeitemshow",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){var e=t.target;h(e,this.clsActive)}},{name:"itemshown",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){var e=t.target;h(e,this.clsActivated)}},{name:"itemhidden",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){var e=t.target;S(e,this.clsActive,this.clsActivated)}},{name:"itemshow itemhide itemshown itemhidden",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){var i=t.target;e.update(null,i)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(t){t.button>0||this.length<2||this.preventCatch||(this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.translate(this.percent),this._transitioner.cancel(),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,this.unbindMove=_(c,$,this.move,{capture:!0,passive:!1}),_(P,"scroll",this.unbindMove),_(c,C,this.end,!0))},move:function(t){var e=this,i=this.pos-this.drag;if(!(0===i||this.prevPos===this.pos||!this.dragging&&Math.abs(i)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=i<0?1:-1;for(var n=this.slides,s=this.prevIndex,o=Math.abs(i),r=this.getIndex(s+this.dir,s),a=this._getDistance(s,r)||n[s].offsetWidth;r!==s&&o>a;)e.drag-=a*e.dir,s=r,o-=a,r=e.getIndex(s+e.dir,s),a=e._getDistance(s,r)||n[s].offsetWidth;this.percent=o/a;var h=n[s],l=n[r],u=this.index!==r,d=s===r;[this.index,this.prevIndex].filter(function(t){return!x([r,s],t)}).forEach(function(t){O(n[t],"itemhidden",[e]),e._transitioner&&e._transitioner.reset(),d&&(e.prevIndex=s)}),this.index===s&&this.prevIndex!==s&&O(n[this.index],"itemshown",[this]),u&&(this.prevIndex=s,this.index=r,!d&&O(h,"beforeitemhide",[this]),O(l,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),h,!d&&l),u&&(!d&&O(h,"itemhide",[this]),O(l,"itemshow",[this]))}},end:function(){if(I(P,"scroll",this.unbindMove),this.unbindMove(),I(c,C,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(k?this.dir*(k?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}T()}this.drag=this.percent=null},show:function(t,e){var i=this;if(void 0===e&&(e=!1),!this.dragging&&this.length){var n=this.stack,s=e?0:n.length,o=function(){n.splice(s,1),n.length&&i.show(n.shift(),!0)};if(n[e?"unshift":"push"](t),!e&&n.length>1)2===n.length&&this._transitioner.forward(200);else{var r=this.index,a=m(this.slides,this.clsActive)&&this.slides[r],h=this.getIndex(t,this.index),l=this.slides[h];if(a!==l){var u;if(this.dir="next"===(u=t)?1:"previous"===u?-1:u<r?-1:1,this.prevIndex=r,this.index=h,a&&O(a,"beforeitemhide",[this]),!O(l,"beforeitemshow",[this,a]))return this.index=this.prevIndex,void o();var d=this._show(a,l,e).then(function(){return a&&O(a,"itemhidden",[i]),O(l,"itemshown",[i]),new D(function(t){f.write(function(){n.shift(),n.length?i.show(n.shift(),!0):i._transitioner=null,t()})})});return a&&O(a,"itemhide",[this]),O(l,"itemshow",[this]),a&&f.flush(),d}o()}}},getIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.index),u(p(t,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.prevIndex),this.getIndex(t,e)},startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){t.isHovering&&t.pauseOnHover||t.stack.length||t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)},_show:function(t,e,i){if(this._transitioner=this._getTransitioner(t,e,this.dir,l({easing:i?this.easingOut:this.easing},this.transitionOptions)),!i&&!t)return this._transitioner.translate(1),D.resolve();var n=this.stack.length;return this._transitioner[n>1?"forward":"show"](n>1?75+75/(n-1):this.duration,this.percent)},_getDistance:function(t,e){return new this._getTransitioner(t,t!==e&&e).getDistance()},_translate:function(t,e,i){void 0===e&&(e=this.prevIndex),void 0===i&&(i=this.index);var n=this._getTransitioner(e!==i&&e,i);return n.translate(t),n},_getTransitioner:function(t,e,i,n){return void 0===i&&(i=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(b(t)?this.slides[t]:t,b(e)?this.slides[e]:e,i*(k?-1:1),n)}}}}}function n(t){if(!n.installed){t.use(i);var s,o,r,a,h,l=t.mixin,u=t.util,d=u.$,c=u.$$,f=u.addClass,p=u.ajax,g=u.append,m=u.assign,v=u.attr,x=u.css,w=u.doc,b=u.docEl,k=u.data,y=u.getImage,I=u.html,_=u.index,A=u.on,$=u.pointerDown,C=u.pointerMove,T=u.removeClass,D=u.Transition,S=u.trigger,M=(o=(s=t).mixin,r=s.util,a=r.assign,h=r.css,a({},o.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0},{opacity:1}]},percent:function(t){return 1-h(t,"opacity")},translate:function(t){return[{opacity:1-t},{opacity:t}]}},scale:{show:function(){return[{opacity:0,transform:e(.8)},{opacity:1,transform:e(1)}]},percent:function(t){return 1-h(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:e(1-.2*t)},{opacity:t,transform:e(.8+.2*t)}]}}}));t.component("lightbox",{attrs:!0,props:{animation:String,container:Boolean,toggle:String,autoplay:Boolean,autoplayInterval:Number,videoAutoplay:Boolean},defaults:{animation:void 0,container:!0,toggle:"a",autoplay:0,videoAutoplay:!1},computed:{toggles:function(t,e){var i=t.toggle;return c(i,e)}},disconnected:function(){this._destroy()},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(_(this.toggles,t.current))}}],update:function(t){var e,i;(this.panel&&this.animation&&(this.panel.$props.animation=this.animation,this.panel.$emit()),!this.panel||t.toggles&&(e=t.toggles,i=this.toggles,e.length===i.length&&e.every(function(t,e){return t!==i[e]})))||(t.toggles=this.toggles,this._destroy(),this._init())},methods:{_init:function(){return this.panel=this.panel||t.lightboxPanel(m({},this.$props,{items:this.toggles.reduce(function(t,e){return t.push(["href","caption","type","poster","alt"].reduce(function(t,i){return t["href"===i?"source":i]=k(e,i),t},{})),t},[])}))},_destroy:function(){this.panel&&(this.panel.$destroy(!0),this.panel=null)},show:function(t){return this.panel||this._init(),this.panel.show(t)},hide:function(){return this.panel&&this.panel.hide()}}}),t.component("lightbox-panel",{mixins:[l.container,l.togglable,l.slideshow],functional:!0,defaults:{preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",pauseOnHover:!1,velocity:2,Animations:M,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close uk-toggle="!.uk-lightbox"></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href="#" uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href="#" uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'},created:function(){var t=this;this.$mount(g(this.container,this.template)),this.caption=d(".uk-lightbox-caption",this.$el),this.items.forEach(function(){return g(t.list,"<li></li>")})},events:[{name:C+" "+$+" keydown",handler:"showControls"},{name:"click",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){t.preventDefault(),this.hide()}},{name:"show",self:!0,handler:function(){f(b,this.clsPage)}},{name:"shown",self:!0,handler:"showControls"},{name:"hide",self:!0,handler:"hideControls"},{name:"hidden",self:!0,handler:function(){T(b,this.clsPage)}},{name:"keyup",el:function(){return w},handler:function(t){if(this.isToggled(this.$el))switch(t.keyCode){case 27:this.hide();break;case 37:this.show("previous");break;case 39:this.show("next")}}},{name:"toggle",handler:function(t){t.preventDefault(),this.toggle()}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){this.isToggled()||(this.preventCatch=!0,t.preventDefault(),this.animation=M.scale,T(t.target,this.clsActive),this.stack.splice(1,0,this.index),this.toggleNow(this.$el,!0))}},{name:"itemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target,i=_(e),n=this.getItem(i).caption;x(this.caption,"display",n?"":"none"),I(this.caption,n);for(var s=0;s<=this.preload;s++)this.loadItem(this.getIndex(i+s)),this.loadItem(this.getIndex(i-s));delete this._computeds.animation}},{name:"itemshown",self:!0,delegate:function(){return this.selList+" > *"},handler:function(){this.preventCatch=!1}},{name:"itemload",handler:function(t,e){var i,n=this,s=e.source,o=e.type,r=e.alt;if(this.setItem(e,"<span uk-spinner></span>"),s)if("image"===o||s.match(/\.(jp(e)?g|png|gif|svg)$/i))y(s).then(function(t){return n.setItem(e,'<img width="'+t.width+'" height="'+t.height+'" src="'+s+'" alt="'+(r||"")+'">')},function(){return n.setError(e)});else if("video"===o||s.match(/\.(mp4|webm|ogv)$/i)){var a=d("<video controls playsinline"+(e.poster?' poster="'+e.poster+'"':"")+' uk-video="autoplay: '+this.videoAutoplay+'"></video>');v(a,"src",s),A(a,"error",function(){return n.setError(e)}),A(a,"loadedmetadata",function(){v(a,{width:a.videoWidth,height:a.videoHeight}),n.setItem(e,a)})}else if("iframe"===o)this.setItem(e,'<iframe class="uk-lightbox-iframe" src="'+s+'" frameborder="0" allowfullscreen></iframe>');else if(i=s.match(/\/\/.*?youtube\.[a-z]+\/watch\?v=([^&\s]+)/)||s.match(/youtu\.be\/(.*)/)){var h=i[1],l=function(t,i){return void 0===t&&(t=640),void 0===i&&(i=450),n.setItem(e,N("//www.youtube.com/embed/"+h,t,i,n.videoAutoplay))};y("//img.youtube.com/vi/"+h+"/maxresdefault.jpg").then(function(t){var e=t.width,i=t.height;120===e&&90===i?y("//img.youtube.com/vi/"+h+"/0.jpg").then(function(t){var e=t.width,i=t.height;return l(e,i)},l):l(e,i)},l)}else(i=s.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/))&&p("//vimeo.com/api/oembed.json?maxwidth=1920&url="+encodeURI(s),{responseType:"json"}).then(function(t){var s=t.response,o=s.height,r=s.width;return n.setItem(e,N("//player.vimeo.com/video/"+i[2],r,o,n.videoAutoplay))})}}],methods:{toggle:function(){return this.isToggled()?this.hide():this.show()},hide:function(){this.isToggled()&&this.toggleNow(this.$el,!1),T(this.slides,this.clsActive),D.stop(this.slides),delete this.index,delete this.percent,delete this._transitioner},loadItem:function(t){void 0===t&&(t=this.index);var e=this.getItem(t);e.content||S(this.$el,"itemload",[e])},getItem:function(t){return void 0===t&&(t=this.index),this.items[t]||{}},setItem:function(e,i){m(e,{content:i});var n=I(this.slides[this.items.indexOf(e)],i);S(this.$el,"itemloaded",[this,n]),t.update(null,n)},setError:function(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls:function(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),v(c("["+this.attrItem+"],[data-"+this.attrItem+"]",this.$el),"hidden",this.items.length<2?"":null),f(this.$el,"uk-active","uk-transition-active")},hideControls:function(){T(this.$el,"uk-active","uk-transition-active")}}})}function N(t,e,i,n){return'<iframe src="'+t+'" width="'+e+'" height="'+i+'" style="max-width: 100%; box-sizing: border-box;" frameborder="0" allowfullscreen uk-video="autoplay: '+n+'" uk-responsive></iframe>'}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(n),n});